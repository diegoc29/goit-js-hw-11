{"mappings":"AACI,IAAIA,EAAc,EAElB,MAAMC,EAAaC,SAASC,eAAe,eACrCC,EAAUF,SAASG,cAAc,YACjCC,EAAcJ,SAASG,cAAc,cAwB3CE,eAAeC,EAAcC,GAC3B,MAAMC,EAAS,qEAA4CC,mBAAmBF,mEAA6ET,gBAE3J,IACE,MAAMY,QAAiBC,MAAMH,GACvBI,QAAaF,EAASG,OAEL,IAAnBD,EAAKE,UACPC,SAASC,OAAOC,KAAK,6EAErBL,EAAKM,KAAKC,SAAQC,IAChB,MAAMC,EAad,SAAyBD,GACvB,MAAMC,EAAOrB,SAASsB,cAAc,OACpCD,EAAKE,UAAY,aAEjB,MAAMC,EAAexB,SAASsB,cAAc,OAC5CE,EAAaC,IAAML,EAAMM,aACzBF,EAAaG,IAAMP,EAAMQ,KACzBJ,EAAaK,QAAU,OAEvB,MAAMC,EAAU9B,SAASsB,cAAc,OACvCQ,EAAQP,UAAY,OAapB,MAXkB,CAAC,QAAS,QAAS,WAAY,aACvCJ,SAAQY,IAChB,MAAMC,EAAIhC,SAASsB,cAAc,KACjCU,EAAET,UAAY,YACdS,EAAEC,UAAY,MAAMF,UAAaX,EAAMW,EAAKG,iBAC5CJ,EAAQK,YAAYH,EAAE,IAGxBX,EAAKc,YAAYX,GACjBH,EAAKc,YAAYL,GAEVT,C,CApCYe,CAAgBhB,GAC7BlB,EAAQiC,YAAYd,EAAK,IAI3BjB,EAAYiC,MAAMC,QAAU1B,EAAME,UAA0B,GAAdhB,EAAoB,QAAU,O,CAE9E,MAAOyC,GACPC,QAAQD,MAAM,2BAA4BA,GAC1CxB,SAASC,OAAOyB,QAAQ,yD,EA1C5B1C,EAAW2C,iBAAiB,UAAUrC,eAAesC,GACnDA,EAAMC,iBACN,MAAMrC,EAAcoC,EAAME,OAAOtC,YAAYuC,MAAMC,OAK/B,KAAhBxC,SACID,EAAcC,GACpBH,EAAYiC,MAAMC,QAAU,SAG3BvB,SAAQC,OAAOgC,QAAQ,+B,IAI5B5C,EAAYsC,iBAAiB,SAASrC,iBACpCP,IACA,MAAMS,EAAcR,EAAWQ,YAAYuC,MAAMC,aAC3CzC,EAAcC,E","sources":["src/index.js"],"sourcesContent":["const apiKey = '41188201-214d0d91838319eb1191e729e';\n    let currentPage = 1;\n\n    const searchForm = document.getElementById('search-form');\n    const gallery = document.querySelector('.gallery');\n    const loadMoreBtn = document.querySelector('.load-more');\n\n    searchForm.addEventListener('submit', async function(event) {\n      event.preventDefault();\n      const searchQuery = event.target.searchQuery.value.trim();\n\n      // Limpiar galería antes de realizar una nueva búsqueda\n      \n\n      if (searchQuery !== '') {\n        await performSearch(searchQuery);\n        loadMoreBtn.style.display = 'block';\n      } else {\n        // Manejar el caso en el que no se proporciona una cadena de búsqueda\n        Notiflix.Notify.Warning('Please enter a search query.');\n      }\n    });\n\n    loadMoreBtn.addEventListener('click', async function() {\n      currentPage++;\n      const searchQuery = searchForm.searchQuery.value.trim();\n      await performSearch(searchQuery);\n    });\n\n    async function performSearch(searchQuery) {\n      const apiUrl = `https://pixabay.com/api/?key=${apiKey}&q=${encodeURIComponent(searchQuery)}&image_type=photo&orientation=horizontal&safesearch=true&page=${currentPage}&per_page=40`;\n\n      try {\n        const response = await fetch(apiUrl);\n        const data = await response.json();\n\n        if (data.totalHits === 0) {\n          Notiflix.Notify.Info(\"Sorry, there are no images matching your search query. Please try again.\");\n        } else {\n          data.hits.forEach(image => {\n            const card = createImageCard(image);\n            gallery.appendChild(card);\n          });\n\n          // Mostrar u ocultar el botón \"Load more\" según si hay más resultados\n          loadMoreBtn.style.display = (data.totalHits > currentPage * 40) ? 'block' : 'none';\n        }\n      } catch (error) {\n        console.error('Error during the search:', error);\n        Notiflix.Notify.Failure('An error occurred during the search. Please try again.');\n      }\n    }\n\n    function createImageCard(image) {\n      const card = document.createElement('div');\n      card.className = 'photo-card';\n\n      const imageElement = document.createElement('img');\n      imageElement.src = image.webformatURL;\n      imageElement.alt = image.tags;\n      imageElement.loading = 'lazy';\n\n      const infoDiv = document.createElement('div');\n      infoDiv.className = 'info';\n\n      const infoItems = ['Likes', 'Views', 'Comments', 'Downloads'];\n      infoItems.forEach(item => {\n        const p = document.createElement('p');\n        p.className = 'info-item';\n        p.innerHTML = `<b>${item}:</b> ${image[item.toLowerCase()]}`;\n        infoDiv.appendChild(p);\n      });\n\n      card.appendChild(imageElement);\n      card.appendChild(infoDiv);\n\n      return card;\n    }"],"names":["$1f0dc3b9307be026$var$currentPage","$1f0dc3b9307be026$var$searchForm","document","getElementById","$1f0dc3b9307be026$var$gallery","querySelector","$1f0dc3b9307be026$var$loadMoreBtn","async","$1f0dc3b9307be026$var$performSearch","searchQuery","apiUrl","encodeURIComponent","response","fetch","data","json","totalHits","Notiflix","Notify","Info","hits","forEach","image","card","createElement","className","imageElement","src","webformatURL","alt","tags","loading","infoDiv","item","p","innerHTML","toLowerCase","appendChild","$1f0dc3b9307be026$var$createImageCard","style","display","error","console","Failure","addEventListener","event","preventDefault","target","value","trim","Warning"],"version":3,"file":"index.dd372abc.js.map"}